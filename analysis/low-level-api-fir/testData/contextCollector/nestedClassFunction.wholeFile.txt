--- KtFile ---
<File name: nestedClassFunction.kt, Physical: true>
<ELEMENT>package test

class Foo<F> {
    class Bar<B> {
        fun test(b: B) {
            consume(b)
        }
    }
}

fun consume(obj: Any) {}
</ELEMENT> [(0,140)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope

--- KtPackageDirective ---
<File name: nestedClassFunction.kt, Physical: true>
<ELEMENT>package test</ELEMENT> [(0,12)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope

--- KtClass ---
<File name: nestedClassFunction.kt, Physical: true>
<ELEMENT>class Foo<F> {
    class Bar<B> {
        fun test(b: B) {
            consume(b)
        }
    }
}</ELEMENT> [(14,113)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope

--- KtTypeParameter ---
<File name: nestedClassFunction.kt, Physical: true>
class Foo<<ELEMENT>F</ELEMENT>> {
    class Bar<B> {
        fun test(b: B) {
            consume(b)
        }
    }
} [(24,25)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol F

--- KtClass ---
<File name: nestedClassFunction.kt, Physical: true>
<ELEMENT>class Bar<B> {
        fun test(b: B) {
            consume(b)
        }
    }</ELEMENT> [(33,111)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol F
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Foo<F> : R|kotlin/Any|
                Type: test.Foo<F>

--- KtTypeParameter ---
<File name: nestedClassFunction.kt, Physical: true>
class Bar<<ELEMENT>B</ELEMENT>> {
        fun test(b: B) {
            consume(b)
        }
    } [(43,44)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol F
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Foo<F> : R|kotlin/Any|
                Type: test.Foo<F>
    Element 9
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B

--- KtNamedFunction ---
<File name: nestedClassFunction.kt, Physical: true>
<ELEMENT>fun test(b: B) {
            consume(b)
        }</ELEMENT> [(56,105)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
                Type: test.Foo.Bar<B>

--- KtParameter ---
<File name: nestedClassFunction.kt, Physical: true>
fun test(<ELEMENT>b: B</ELEMENT>) {
            consume(b)
        } [(65,69)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
                Type: test.Foo.Bar<B>
    Element 9
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol b: R|B|

--- KtTypeReference ---
<File name: nestedClassFunction.kt, Physical: true>
fun test(b: <ELEMENT>B</ELEMENT>) {
            consume(b)
        } [(68,69)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
                Type: test.Foo.Bar<B>
    Element 9
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol b: R|B|

--- KtBlockExpression ---
<File name: nestedClassFunction.kt, Physical: true>
fun test(b: B) <ELEMENT>{
            consume(b)
        }</ELEMENT> [(71,105)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
                Type: test.Foo.Bar<B>
    Element 9
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol b: R|B|

--- KtCallExpression ---
<File name: nestedClassFunction.kt, Physical: true>
fun test(b: B) {
            <ELEMENT>consume(b)</ELEMENT>
        } [(85,95)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
                Type: test.Foo.Bar<B>
    Element 9
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol b: R|B|
    Element 10
        Scope: FirLocalScope

--- KtNameReferenceExpression ---
<File name: nestedClassFunction.kt, Physical: true>
fun test(b: B) {
            <ELEMENT>consume</ELEMENT>(b)
        } [(85,92)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
                Type: test.Foo.Bar<B>
    Element 9
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol b: R|B|
    Element 10
        Scope: FirLocalScope

--- KtValueArgumentList ---
<File name: nestedClassFunction.kt, Physical: true>
fun test(b: B) {
            consume<ELEMENT>(b)</ELEMENT>
        } [(92,95)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
                Type: test.Foo.Bar<B>
    Element 9
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol b: R|B|
    Element 10
        Scope: FirLocalScope

--- KtNameReferenceExpression ---
<File name: nestedClassFunction.kt, Physical: true>
fun test(b: B) {
            consume(<ELEMENT>b</ELEMENT>)
        } [(93,94)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirNestedClassifierScopeImpl
            Classifiers:
                FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
    Element 7
        Scope: FirMemberTypeParameterScope
            Classifiers:
                FirTypeParameterSymbol B
    Element 8
        Implicit receiver:
            FirRegularClassSymbol public final class Bar<B> : R|kotlin/Any|
                Type: test.Foo.Bar<B>
    Element 9
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol b: R|B|
    Element 10
        Scope: FirLocalScope

--- KtNamedFunction ---
<File name: nestedClassFunction.kt, Physical: true>
<ELEMENT>fun consume(obj: Any) {}</ELEMENT> [(115,139)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope

--- KtParameter ---
<File name: nestedClassFunction.kt, Physical: true>
fun consume(<ELEMENT>obj: Any</ELEMENT>) {} [(127,135)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol obj: R|kotlin/Any|

--- KtTypeReference ---
<File name: nestedClassFunction.kt, Physical: true>
fun consume(obj: <ELEMENT>Any</ELEMENT>) {} [(132,135)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol obj: R|kotlin/Any|

--- KtBlockExpression ---
<File name: nestedClassFunction.kt, Physical: true>
fun consume(obj: Any) <ELEMENT>{}</ELEMENT> [(137,139)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol obj: R|kotlin/Any|

FILE: [ResolvedTo(IMPORTS)] nestedClassFunction.kt
    public final [ResolvedTo(ANNOTATION_ARGUMENTS)] class Foo<[ResolvedTo(ANNOTATION_ARGUMENTS)] F> : R|kotlin/Any| {
        public [ResolvedTo(BODY_RESOLVE)] constructor<[ResolvedTo(ANNOTATION_ARGUMENTS)] F>(): R|test/Foo<F>| {
            super<R|kotlin/Any|>()
        }

        public final [ResolvedTo(ANNOTATION_ARGUMENTS)] class Bar<[ResolvedTo(ANNOTATION_ARGUMENTS)] B> : R|kotlin/Any| {
            public [ResolvedTo(BODY_RESOLVE)] constructor<[ResolvedTo(ANNOTATION_ARGUMENTS)] B>(): R|test/Foo.Bar<B>| {
                super<R|kotlin/Any|>()
            }

            public final [ResolvedTo(BODY_RESOLVE)] fun test([ResolvedTo(BODY_RESOLVE)] b: R|B|): R|kotlin/Unit| {
                R|test/consume<Inapplicable(UNSAFE_CALL): test/consume>#|(R|<local>/b|)
            }

        }

    }
    public final [ResolvedTo(BODY_RESOLVE)] fun consume([ResolvedTo(BODY_RESOLVE)] obj: R|kotlin/Any|): R|kotlin/Unit| {
    }
