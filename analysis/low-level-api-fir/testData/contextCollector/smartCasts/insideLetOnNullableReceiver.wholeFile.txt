--- KtFile ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
<ELEMENT>fun foo(param: String?): String {
    param?.let {
        return param
    }

    return ""
}
</ELEMENT> [(0,95)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope

--- KtPackageDirective ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
<ELEMENT></ELEMENT> [(0,0)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope

--- KtNamedFunction ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
<ELEMENT>fun foo(param: String?): String {
    param?.let {
        return param
    }

    return ""
}</ELEMENT> [(0,94)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope

--- KtParameter ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(<ELEMENT>param: String?</ELEMENT>): String {
    param?.let {
        return param
    }

    return ""
} [(8,22)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|

--- KtTypeReference ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: <ELEMENT>String?</ELEMENT>): String {
    param?.let {
        return param
    }

    return ""
} [(15,22)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|

--- KtTypeReference ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: String?): <ELEMENT>String</ELEMENT> {
    param?.let {
        return param
    }

    return ""
} [(25,31)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope

--- KtBlockExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: String?): String <ELEMENT>{
    param?.let {
        return param
    }

    return ""
}</ELEMENT> [(32,94)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|

--- KtSafeQualifiedExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: String?): String {
    <ELEMENT>param?.let {
        return param
    }</ELEMENT>

    return ""
} [(38,77)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope

--- KtNameReferenceExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: String?): String {
    <ELEMENT>param</ELEMENT>?.let {
        return param
    }

    return ""
} [(38,43)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope

--- KtNameReferenceExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: String?): String {
    param?.<ELEMENT>let</ELEMENT> {
        return param
    }

    return ""
} [(45,48)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope
Smart Casts:
    FirValueParameterSymbol param: R|kotlin/String?|
    Types:
        kotlin.Any

--- KtLambdaExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: String?): String {
    param?.let <ELEMENT>{
        return param
    }</ELEMENT>

    return ""
} [(49,77)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope
Smart Casts:
    FirValueParameterSymbol param: R|kotlin/String?|
    Types:
        kotlin.Any

--- KtFunctionLiteral ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
<ELEMENT>{
        return param
    }</ELEMENT> [(49,77)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope
Smart Casts:
    FirValueParameterSymbol param: R|kotlin/String?|
    Types:
        kotlin.Any

--- KtBlockExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
{
        <ELEMENT>return param</ELEMENT>
    } [(59,71)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope
    Element 8
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol it: R|kotlin/String|
Smart Casts:
    FirValueParameterSymbol param: R|kotlin/String?|
    Types:
        kotlin.Any

--- KtReturnExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
{
        <ELEMENT>return param</ELEMENT>
    } [(59,71)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope
    Element 8
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol it: R|kotlin/String|
    Element 9
        Scope: FirLocalScope
Smart Casts:
    FirValueParameterSymbol param: R|kotlin/String?|
    Types:
        kotlin.Any

--- KtNameReferenceExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
{
        return <ELEMENT>param</ELEMENT>
    } [(66,71)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope
    Element 8
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol it: R|kotlin/String|
    Element 9
        Scope: FirLocalScope
Smart Casts:
    FirValueParameterSymbol param: R|kotlin/String?|
    Types:
        kotlin.Any

--- KtReturnExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: String?): String {
    param?.let {
        return param
    }

    <ELEMENT>return ""</ELEMENT>
} [(83,92)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope

--- KtStringTemplateExpression ---
<File name: insideLetOnNullableReceiver.kt, Physical: true>
fun foo(param: String?): String {
    param?.let {
        return param
    }

    return <ELEMENT>""</ELEMENT>
} [(90,92)]:
Tower Data Context:
    Element 0
        Scope: FirDefaultStarImportingScope
    Element 1
        Scope: FirExplicitStarImportingScope
    Element 2
        Scope: FirDefaultSimpleImportingScope
    Element 3
        Scope: FirDefaultSimpleImportingScope
    Element 4
        Scope: FirPackageMemberScope
    Element 5
        Scope: FirExplicitSimpleImportingScope
    Element 6
        Scope: FirLocalScope
            Properties:
                FirValueParameterSymbol param: R|kotlin/String?|
    Element 7
        Scope: FirLocalScope

FILE: [ResolvedTo(IMPORTS)] insideLetOnNullableReceiver.kt
    public final [ResolvedTo(BODY_RESOLVE)] fun foo([ResolvedTo(BODY_RESOLVE)] param: R|kotlin/String?|): R|kotlin/String| {
        R|<local>/param|?.{ $subj$.R|kotlin/let|<R|kotlin/String|, R|kotlin/Nothing|>(<L> = [ResolvedTo(BODY_RESOLVE)] let@fun <anonymous>([ResolvedTo(BODY_RESOLVE)] it: R|kotlin/String|): R|kotlin/Nothing| <inline=Inline, kind=EXACTLY_ONCE>  {
            ^foo R|<local>/param|
        }
        ) }
        ^foo String()
    }
